<div class="meeting-container">
  @if (appointment) {
    @if (!meetingStarted) {
      <div class="pre-meeting">
        <div class="meeting-info animate-in">
          <h1>Ready to start your meeting?</h1>
          <div class="guest-info">
            <h2>{{ appointment.guestName }}</h2>
            <p>{{ appointment.title }}</p>
            <p class="reason">{{ appointment.reason }}</p>
          </div>
          <button class="start-btn pulse-button" (click)="startMeeting()">Start Recording</button>
        </div>
      </div>
    } @else {
      <div class="meeting-active">
        <div class="meeting-header">
          <div class="meeting-title">
            <h2>{{ appointment.guestName }} - {{ appointment.title }}</h2>
            <span class="duration">{{ formatDuration() }}</span>
          </div>
          <button class="end-btn" (click)="endMeeting()">Stop Recording</button>
        </div>

        @if (recordingSaved) {
          <div class="save-confirmation">
            <p>âœ… Recording and transcript saved successfully!</p>
            <button class="debrief-btn" (click)="goToDebrief()">Go to Debrief</button>
          </div>
        }

        <div class="video-grid">
          <div class="video-placeholder host">
            <div class="placeholder-content">
              <div class="avatar">{{ appointment.hostName?.charAt(0) || 'H' }}</div>
              <p>{{ appointment.hostName || 'Host' }}</p>
            </div>
          </div>
          <div class="video-placeholder guest">
            <div class="placeholder-content">
              <div class="avatar">{{ appointment.guestName.charAt(0) }}</div>
              <p>{{ appointment.guestName }}</p>
            </div>
          </div>
        </div>

        <!-- Live Transcript -->
        <div class="transcript-section">
          <h3>Live Transcript</h3>
          <div class="transcript-content">
            @if (transcript) {
              <p>{{ transcript }}</p>
            } @else {
              <p class="placeholder">Transcript will appear here as you speak...</p>
            }
          </div>
        </div>

        <div class="meeting-controls">
          <button class="control-btn">ğŸ¤ Mute</button>
          <button class="control-btn">ğŸ“¹ Video</button>
          <button class="control-btn">ğŸ’¬ Chat</button>
          <button class="control-btn">ğŸ“ Notes</button>
        </div>
      </div>
    }
  } @else {
    <div class="loading">Loading meeting...</div>
  }
</div>
